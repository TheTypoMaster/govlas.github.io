{"name":"Govlas.GitHub.io","tagline":"","body":"## Lua VM in browser\r\n\r\n[Lua playground](playlua) without server. Written in [golang](http://golang.org).\r\nIt is experiment to convert [LuaVM](https://github.com/yuin/gopher-lua) to Javascript with [GopherJS](https://github.com/gopherjs/gopherjs/).\r\n\r\n[JQuery port](https://github.com/gopherjs/jquery) also used.\r\n\r\n```go\r\npackage main\r\n\r\nimport (\r\n\t\"github.com/gopherjs/gopherjs/js\"\r\n\t\"github.com/gopherjs/jquery\"\r\n\t\"github.com/yuin/gopher-lua\"\r\n)\r\n\r\nvar jq = jquery.NewJQuery\r\n\r\nfunc PlayLua(s string) {\r\n\tL := lua.NewState()\r\n\tdefer L.Close()\r\n\tif err := L.DoString(s); err != nil {\r\n\t\tpanic(err)\r\n\t}\r\n}\r\n\r\nfunc main() {\r\n\teditor := js.Global.Get(\"ace\").Call(\"edit\", \"editor\")\r\n\tsession := editor.Call(\"getSession\")\r\n\tsession.Call(\"setMode\", \"ace/mode/lua\")\r\n\tcons := jq(\"#cons\")\r\n\r\n\tjq(\"#run\").On(\"click\", func() {\r\n\t\tPlayLua(editor.Call(\"getValue\").String())\r\n\t\tcons.SetScrollTop(int(cons.Prop(\"scrollHeight\").(float64)))\r\n\t})\r\n\r\n\tjq(\"#clean\").On(\"click\", func() {\r\n\t\tcons.SetHtml(\"\")\r\n\t})\r\n}\r\n```\r\n[See other sources](https://github.com/govlas/govlas.github.io/tree/master/playlua)\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}